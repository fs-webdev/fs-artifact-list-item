<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-image/iron-image.html">
<link rel="import" href="../wc-i18n/wc-i18n.html">
<link rel="import" href="../oak-i18n-behavior/oak-i18n-behavior.html">
<link rel="import" href="audio-item/audio-item.html">
<link rel="import" href="../fs-styles/fs-styles.html">
<link rel="import" href="../oak-ajax-behavior/oak-ajax-behavior.html">
<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../fs-metrics/fs-metrics.html">
<link rel="import" href="../fs-icon/fs-icon.html">

<!--
An element that renders any artifact in the gallery list format

Example:

    <fs-artifact-list-item></fs-artifact-list-item>

@group Seed Elements
@element fs-artifact-list-item
@demo demo/index.html
@hero hero.svg
-->

<dom-module id="fs-artifact-list-item">
  <template>
    <style include='fs-styles'>
      :host {
        display:block;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
      }

      *[hidden] {
        display: none !important;
      }

      #container * {
        box-sizing: border-box;
      }
      #container {
        width: 100%;
        height: 48px;
        background-color: #ffffff;
        border-top: 1px #cccccc solid;
        margin-bottom: 1px;
        padding: 4px 13px 0px 48px;
        box-sizing: border-box;
        @apply --list-item-container-styles;
      }
      #container .add-styles:visited {
        color: #0060d7;
      }
      .thumbnail {
        width: 40px;
        height: 40px;
        background: none;
        border: none;
        margin: 0;
        padding: 0;
        border-top-right-radius: 4px;
        border-top-left-radius: 4px;
        object-fit: cover;
        object-position: center 15%;
      }
      .badge-wrapper {
        position: absolute;
        width: 100%;
        margin: auto;
        top: 15px;
      }
      .badge {
        background-position: 6px center;
        background-repeat: no-repeat;
        background-size: 15px 15px;
        background-color: #4d4d4a;
        border-radius: 9px;
        bottom: 5px;
        box-sizing: border-box;
        color: #fff;
        display: inline-block;
        font-weight: normal;
        line-height: 1;
        min-width: 21px;
        padding: 2px 8px;
        position: relative;
        text-shadow: none;
        border: 1px solid #FFFFFF;
        font-style: normal;
      }
      .col {
        height: 100%;
        display: inline-block;
        vertical-align: top;
        padding-right: 15px;
        padding: 0;
        margin: 0;
      }
      .col-1 {
        width: 34%;
      }
      .col-2 {
        width: 20%;
      }
      .col-2 .place {
        display: none;
      }
      .col-3 {
        width: 26%;
      }
      .col-4 {
        width: 3%;
      }
      .col-4 span {
        margin-top: 12px;
      }
      .col-5 {
        text-align: center;
      }
      .col .title {
        display: -webkit-box;
        margin: 0px;
        line-height: 1.44em;
        height: 3em;
        overflow: hidden;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
      }

      .col .title.error-styling {
        display: block;
      }

      .contributor {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-size: .88rem;
      }

      .screening {
        position: absolute;
        top: 0px;
        bottom: 0px;
        right: 20px;
      }

      .restricted {
        position: absolute;
        padding: 0px 20px;
        color: white;
        top: 0px;
        bottom: 0px;
        right: 20px;
        background: rgba(0,0,0,0.65);
      }

      .restricted  span > .fs-h5 {
        color: white;
      }

      #contributor-link .contributor-name {
        color: blue;
      }

      .contributor-name:hover {
        text-decoration: underline;
        cursor: pointer;
      }

      .col .contributed-title-text {
        height: 21px;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .contributed-title-text a {
        overflow: hidden;
        text-overflow: ellipsis;
        display: block;
        white-space: nowrap;
      }

      .col .title-input {
        height: 84%;
        width: 95%;
      }

      .col .title-text, .col .date-text, .col .place-text {
        color: #555;
      }
      .comment-note, .tag-note {
        display: inline-block;
        vertical-align: middle;
      }
      .error-text {
        background: #FDEEEE;
        background-repeat:no-repeat;
        background-position: 3px 5px, center;
        background-image: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55IiBpZD0iQXJ0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIg0KCSB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIwIDIwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxyZWN0IGZpbGw9Im5vbmUiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIvPg0KPHBhdGggZmlsbD0iI0E3MUUxQSIgZD0iTTEzLjA4MywxMS4wMDNDMTMuMDM3LDExLjU1MiwxMi41NSwxMiwxMiwxMkg5Yy0wLjU1LDAtMS4wMzctMC40NDgtMS4wODMtMC45OTdMNy4wODMsMC45OTcNCglDNy4wMzcsMC40NDgsNy40NSwwLDgsMGg0Ljk5OGMwLjU1LDAsMC45NjMsMC40NDgsMC45MTcsMC45OTdMMTMuMDgzLDExLjAwM3ogTTExLjU3MywxOWMwLjU1LDAsMS4wMzQtMC40NDksMS4wNzUtMC45OTcNCglsMC4yMjUtMy4wMDZDMTIuOTE1LDE0LjQ0OSwxMi40OTgsMTQsMTEuOTQ4LDE0SDkuMDVjLTAuNTUsMC0wLjk2NiwwLjQ0OS0wLjkyNSwwLjk5N2wwLjIyNSwzLjAwNkM4LjM5MSwxOC41NTEsOC44NzUsMTksOS40MjUsMTkNCglIMTEuNTczeiIvPg0KPC9zdmc+);
        border: 1px solid #A51F1F;
        color: #A51F1F;
        padding: 5px 5px 5px 25px;
        border-radius: 4px;
        position: absolute;
        min-height: 30px;
        max-width: 600px;
        right: 2%;
        top: 5px;
        line-height: 1;
      }
      .error-styling .title-text {
        display: inline-block;
        max-width: 85%;
      }
      .error-styling .title-text strong {
        color: rgb(138, 36, 24);
        display: inline-block;
      }

      .exclamation-icon {
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.2%22%20baseProfile%3D%22tiny%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20fill%3D%22none%22%20width%3D%2220%22%20height%3D%2220%22%2F%3E%3Cpath%20fill%3D%22%23A71E1A%22%20d%3D%22M13.1%2011C13%2011.6%2012.6%2012%2012%2012H9c-0.5%200-1-0.4-1.1-1L7.1%201C7%200.4%207.5%200%208%200h5c0.6%200%201%200.4%200.9%201L13.1%2011zM11.6%2019c0.6%200%201-0.4%201.1-1l0.2-3C12.9%2014.4%2012.5%2014%2011.9%2014H9.1c-0.5%200-1%200.4-0.9%201l0.2%203C8.4%2018.6%208.9%2019%209.4%2019H11.6z%22%2F%3E%3C%2Fsvg%3E") !important;
        background-repeat: no-repeat;
        height: 20px;
        width: 16px;
        display: inline-block;
        vertical-align: top;
      }
      .tag-note {
        height: 39px;
      }
      .list-preview {
        display: block;
        position: relative;
        float: left;
        height: 40px;
        width: 40px;
        margin-right: 12px;
      }
      .add-icon {
        background-image: url('data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJBcnQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMjVweCIgaGVpZ2h0PSIyNXB4IiB2aWV3Qm94PSIwIDAgMjUgMjUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI1IDI1IiB4bWw6c3BhY2U9InByZXNlcnZlIj48ZyBpZD0iQWRkX194MjhfTV94MjlfIj48L2c+PHBhdGggZmlsbD0iIzAwNTFDNCIgZD0iTTEyLjUsMjMuOTA0Yy02LjI4OCwwLTExLjQwNC01LjExNi0xMS40MDQtMTEuNDA0UzYuMjEyLDEuMDk2LDEyLjUsMS4wOTZTMjMuOTA0LDYuMjEyLDIzLjkwNCwxMi41ICBTMTguNzg4LDIzLjkwNCwxMi41LDIzLjkwNHogTTEwLjkwNCwxOGMwLDAuODgsMC43MTYsMS41OTYsMS41OTYsMS41OTZTMTQuMDk2LDE4Ljg4LDE0LjA5NiwxOHYtMy45MDRIMTggIGMwLjg4LDAsMS41OTYtMC43MTYsMS41OTYtMS41OTZTMTguODgsMTAuOTA0LDE4LDEwLjkwNGgtMy45MDRWN2MwLTAuODgtMC43MTYtMS41OTYtMS41OTYtMS41OTZTMTAuOTA0LDYuMTIsMTAuOTA0LDd2My45MDRINyAgYy0wLjg4LDAtMS41OTYsMC43MTYtMS41OTYsMS41OTZTNi4xMiwxNC4wOTYsNywxNC4wOTZoMy45MDRWMTh6Ii8+PHJlY3QgZmlsbD0ibm9uZSIgd2lkdGg9IjI1IiBoZWlnaHQ9IjI1Ii8+PC9zdmc+');
        background-repeat: no-repeat;
        background-size: contain;
        display:inline-block;
        height:14px;
        margin: 0 3px 0 0;
        width:14px;
        position: relative;
        top: 2px;
      }
      .not-tagged-icon-english {
        background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI2NHB4IiBoZWlnaHQ9IjM1cHgiIHZpZXdCb3g9IjAgMCA2NCAzNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5Hcm91cCA5PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHJlY3QgaWQ9InBhdGgtMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjM1IiByeD0iNCI+PC9yZWN0PiAgICA8L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9Ikdyb3VwLTkiPiAgICAgICAgICAgIDxnIGlkPSJSZWN0YW5nbGUtOTEtQ29weS04Ij4gICAgICAgICAgICAgICAgPHVzZSBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPiAgICAgICAgICAgICAgICA8cmVjdCBzdHJva2U9IiM5Nzk3OTciIHN0cm9rZS13aWR0aD0iMSIgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSI2MyIgaGVpZ2h0PSIzNCIgcng9IjQiPjwvcmVjdD4gICAgICAgICAgICA8L2c+ICAgICAgICAgICAgPHBhdGggZD0iTTE1LjA1MDc4MTIsMjIgTDEzLjgxNDQ1MzEsMjIgTDEyLjk1ODk4NDQsMTkuNTY4MzU5NCBMOS4xODU1NDY4OCwxOS41NjgzNTk0IEw4LjMzMDA3ODEyLDIyIEw3LjE1MjM0Mzc1LDIyIEwxMC4zMjgxMjUsMTMuMjc1MzkwNiBMMTEuODc1LDEzLjI3NTM5MDYgTDE1LjA1MDc4MTIsMjIgWiBNMTIuNjAxNTYyNSwxOC41NzIyNjU2IEwxMS4wNzIyNjU2LDE0LjI4OTA2MjUgTDkuNTM3MTA5MzgsMTguNTcyMjY1NiBMMTIuNjAxNTYyNSwxOC41NzIyNjU2IFogTTIxLjU5NTcwMzEsMjIgTDIwLjQ5NDE0MDYsMjIgTDIwLjQ5NDE0MDYsMjEuMzE0NDUzMSBDMjAuMTc3NzMyOCwyMS41ODc4OTIgMTkuODQ3NjU4LDIxLjgwMDc4MDUgMTkuNTAzOTA2MiwyMS45NTMxMjUgQzE5LjE2MDE1NDUsMjIuMTA1NDY5NSAxOC43ODcxMTE0LDIyLjE4MTY0MDYgMTguMzg0NzY1NiwyMi4xODE2NDA2IEMxNy42MDM1MTE3LDIyLjE4MTY0MDYgMTYuOTgzNDAwNywyMS44ODA4NjI0IDE2LjUyNDQxNDEsMjEuMjc5Mjk2OSBDMTYuMDY1NDI3NCwyMC42Nzc3MzE0IDE1LjgzNTkzNzUsMTkuODQzNzU1MyAxNS44MzU5Mzc1LDE4Ljc3NzM0MzggQzE1LjgzNTkzNzUsMTguMjIyNjUzNSAxNS45MTUwMzgzLDE3LjcyODUxNzggMTYuMDczMjQyMiwxNy4yOTQ5MjE5IEMxNi4yMzE0NDYxLDE2Ljg2MTMyNiAxNi40NDUzMTEyLDE2LjQ5MjE4OSAxNi43MTQ4NDM4LDE2LjE4NzUgQzE2Ljk4MDQ3MDEsMTUuODkwNjIzNSAxNy4yOTAwMzczLDE1LjY2NDA2MzMgMTcuNjQzNTU0NywxNS41MDc4MTI1IEMxNy45OTcwNzIxLDE1LjM1MTU2MTcgMTguMzYzMjc5NCwxNS4yNzM0Mzc1IDE4Ljc0MjE4NzUsMTUuMjczNDM3NSBDMTkuMDg1OTM5MiwxNS4yNzM0Mzc1IDE5LjM5MDYyMzcsMTUuMzA5NTcgMTkuNjU2MjUsMTUuMzgxODM1OSBDMTkuOTIxODc2MywxNS40NTQxMDE5IDIwLjIwMTE3MDQsMTUuNTY2NDA1NSAyMC40OTQxNDA2LDE1LjcxODc1IEwyMC40OTQxNDA2LDEyLjg4MjgxMjUgTDIxLjU5NTcwMzEsMTIuODgyODEyNSBMMjEuNTk1NzAzMSwyMiBaIE0yMC40OTQxNDA2LDIwLjM4ODY3MTkgTDIwLjQ5NDE0MDYsMTYuNjMyODEyNSBDMjAuMTk3MjY0MSwxNi40OTk5OTkzIDE5LjkzMTY0MTgsMTYuNDA4MjAzNCAxOS42OTcyNjU2LDE2LjM1NzQyMTkgQzE5LjQ2Mjg4OTUsMTYuMzA2NjQwNCAxOS4yMDcwMzI2LDE2LjI4MTI1IDE4LjkyOTY4NzUsMTYuMjgxMjUgQzE4LjMxMjQ5NjksMTYuMjgxMjUgMTcuODMyMDMzLDE2LjQ5NjA5MTYgMTcuNDg4MjgxMiwxNi45MjU3ODEyIEMxNy4xNDQ1Mjk1LDE3LjM1NTQ3MDkgMTYuOTcyNjU2MiwxNy45NjQ4Mzk4IDE2Ljk3MjY1NjIsMTguNzUzOTA2MiBDMTYuOTcyNjU2MiwxOS41MzEyNTM5IDE3LjEwNTQ2NzQsMjAuMTIyMDY4MyAxNy4zNzEwOTM4LDIwLjUyNjM2NzIgQzE3LjYzNjcyMDEsMjAuOTMwNjY2MSAxOC4wNjI0OTcxLDIxLjEzMjgxMjUgMTguNjQ4NDM3NSwyMS4xMzI4MTI1IEMxOC45NjA5MzkxLDIxLjEzMjgxMjUgMTkuMjc3MzQyMSwyMS4wNjM0NzczIDE5LjU5NzY1NjIsMjAuOTI0ODA0NyBDMTkuOTE3OTcwNCwyMC43ODYxMzIxIDIwLjIxNjc5NTUsMjAuNjA3NDIzIDIwLjQ5NDE0MDYsMjAuMzg4NjcxOSBaIE0yOS4wNzIyNjU2LDIyIEwyNy45NzA3MDMxLDIyIEwyNy45NzA3MDMxLDIxLjMxNDQ1MzEgQzI3LjY1NDI5NTMsMjEuNTg3ODkyIDI3LjMyNDIyMDUsMjEuODAwNzgwNSAyNi45ODA0Njg4LDIxLjk1MzEyNSBDMjYuNjM2NzE3LDIyLjEwNTQ2OTUgMjYuMjYzNjczOSwyMi4xODE2NDA2IDI1Ljg2MTMyODEsMjIuMTgxNjQwNiBDMjUuMDgwMDc0MiwyMi4xODE2NDA2IDI0LjQ1OTk2MzIsMjEuODgwODYyNCAyNC4wMDA5NzY2LDIxLjI3OTI5NjkgQzIzLjU0MTk4OTksMjAuNjc3NzMxNCAyMy4zMTI1LDE5Ljg0Mzc1NTMgMjMuMzEyNSwxOC43NzczNDM4IEMyMy4zMTI1LDE4LjIyMjY1MzUgMjMuMzkxNjAwOCwxNy43Mjg1MTc4IDIzLjU0OTgwNDcsMTcuMjk0OTIxOSBDMjMuNzA4MDA4NiwxNi44NjEzMjYgMjMuOTIxODczNywxNi40OTIxODkgMjQuMTkxNDA2MiwxNi4xODc1IEMyNC40NTcwMzI2LDE1Ljg5MDYyMzUgMjQuNzY2NTk5OCwxNS42NjQwNjMzIDI1LjEyMDExNzIsMTUuNTA3ODEyNSBDMjUuNDczNjM0NiwxNS4zNTE1NjE3IDI1LjgzOTg0MTksMTUuMjczNDM3NSAyNi4yMTg3NSwxNS4yNzM0Mzc1IEMyNi41NjI1MDE3LDE1LjI3MzQzNzUgMjYuODY3MTg2MiwxNS4zMDk1NyAyNy4xMzI4MTI1LDE1LjM4MTgzNTkgQzI3LjM5ODQzODgsMTUuNDU0MTAxOSAyNy42Nzc3MzI5LDE1LjU2NjQwNTUgMjcuOTcwNzAzMSwxNS43MTg3NSBMMjcuOTcwNzAzMSwxMi44ODI4MTI1IEwyOS4wNzIyNjU2LDEyLjg4MjgxMjUgTDI5LjA3MjI2NTYsMjIgWiBNMjcuOTcwNzAzMSwyMC4zODg2NzE5IEwyNy45NzA3MDMxLDE2LjYzMjgxMjUgQzI3LjY3MzgyNjYsMTYuNDk5OTk5MyAyNy40MDgyMDQzLDE2LjQwODIwMzQgMjcuMTczODI4MSwxNi4zNTc0MjE5IEMyNi45Mzk0NTIsMTYuMzA2NjQwNCAyNi42ODM1OTUxLDE2LjI4MTI1IDI2LjQwNjI1LDE2LjI4MTI1IEMyNS43ODkwNTk0LDE2LjI4MTI1IDI1LjMwODU5NTUsMTYuNDk2MDkxNiAyNC45NjQ4NDM4LDE2LjkyNTc4MTIgQzI0LjYyMTA5MiwxNy4zNTU0NzA5IDI0LjQ0OTIxODgsMTcuOTY0ODM5OCAyNC40NDkyMTg4LDE4Ljc1MzkwNjIgQzI0LjQ0OTIxODgsMTkuNTMxMjUzOSAyNC41ODIwMjk5LDIwLjEyMjA2ODMgMjQuODQ3NjU2MiwyMC41MjYzNjcyIEMyNS4xMTMyODI2LDIwLjkzMDY2NjEgMjUuNTM5MDU5NiwyMS4xMzI4MTI1IDI2LjEyNSwyMS4xMzI4MTI1IEMyNi40Mzc1MDE2LDIxLjEzMjgxMjUgMjYuNzUzOTA0NiwyMS4wNjM0NzczIDI3LjA3NDIxODgsMjAuOTI0ODA0NyBDMjcuMzk0NTMyOSwyMC43ODYxMzIxIDI3LjY5MzM1OCwyMC42MDc0MjMgMjcuOTcwNzAzMSwyMC4zODg2NzE5IFogTTQxLjc2OTUzMTIsMTQuMzA2NjQwNiBMMzguNjUyMzQzOCwxNC4zMDY2NDA2IEwzOC42NTIzNDM4LDIyIEwzNy40OTIxODc1LDIyIEwzNy40OTIxODc1LDE0LjMwNjY0MDYgTDM0LjM3NSwxNC4zMDY2NDA2IEwzNC4zNzUsMTMuMjc1MzkwNiBMNDEuNzY5NTMxMiwxMy4yNzUzOTA2IEw0MS43Njk1MzEyLDE0LjMwNjY0MDYgWiBNNDcuOTM5NDUzMSwyMiBMNDYuODQzNzUsMjIgTDQ2Ljg0Mzc1LDIxLjMwMjczNDQgQzQ2Ljc0NjA5MzMsMjEuMzY5MTQxIDQ2LjYxNDI1ODYsMjEuNDYxOTEzNSA0Ni40NDgyNDIyLDIxLjU4MTA1NDcgQzQ2LjI4MjIyNTcsMjEuNzAwMTk1OSA0Ni4xMjEwOTQ1LDIxLjc5NDkyMTUgNDUuOTY0ODQzOCwyMS44NjUyMzQ0IEM0NS43ODEyNDkxLDIxLjk1NTA3ODYgNDUuNTcwMzEzNywyMi4wMzAyNzMxIDQ1LjMzMjAzMTIsMjIuMDkwODIwMyBDNDUuMDkzNzQ4OCwyMi4xNTEzNjc1IDQ0LjgxNDQ1NDcsMjIuMTgxNjQwNiA0NC40OTQxNDA2LDIyLjE4MTY0MDYgQzQzLjkwNDI5MzksMjIuMTgxNjQwNiA0My40MDQyOTg5LDIxLjk4NjMzMDEgNDIuOTk0MTQwNiwyMS41OTU3MDMxIEM0Mi41ODM5ODIzLDIxLjIwNTA3NjIgNDIuMzc4OTA2MiwyMC43MDcwMzQzIDQyLjM3ODkwNjIsMjAuMTAxNTYyNSBDNDIuMzc4OTA2MiwxOS42MDU0NjYzIDQyLjQ4NTM1MDUsMTkuMjA0MTAzMSA0Mi42OTgyNDIyLDE4Ljg5NzQ2MDkgQzQyLjkxMTEzMzksMTguNTkwODE4OCA0My4yMTQ4NDE4LDE4LjM0OTYxMDMgNDMuNjA5Mzc1LDE4LjE3MzgyODEgQzQ0LjAwNzgxNDUsMTcuOTk4MDQ2IDQ0LjQ4NjMyNTMsMTcuODc4OTA2NiA0NS4wNDQ5MjE5LDE3LjgxNjQwNjIgQzQ1LjYwMzUxODQsMTcuNzUzOTA1OSA0Ni4yMDMxMjE4LDE3LjcwNzAzMTQgNDYuODQzNzUsMTcuNjc1NzgxMiBMNDYuODQzNzUsMTcuNTA1ODU5NCBDNDYuODQzNzUsMTcuMjU1ODU4MSA0Ni43OTk4MDUxLDE3LjA0ODgyODkgNDYuNzExOTE0MSwxNi44ODQ3NjU2IEM0Ni42MjQwMjMsMTYuNzIwNzAyMyA0Ni40OTgwNDc3LDE2LjU5MTc5NzMgNDYuMzMzOTg0NCwxNi40OTgwNDY5IEM0Ni4xNzc3MzM2LDE2LjQwODIwMjcgNDUuOTkwMjM1NSwxNi4zNDc2NTY0IDQ1Ljc3MTQ4NDQsMTYuMzE2NDA2MiBDNDUuNTUyNzMzMywxNi4yODUxNTYxIDQ1LjMyNDIxOTksMTYuMjY5NTMxMiA0NS4wODU5Mzc1LDE2LjI2OTUzMTIgQzQ0Ljc5Njg3MzYsMTYuMjY5NTMxMiA0NC40NzQ2MTEyLDE2LjMwNzYxNjggNDQuMTE5MTQwNiwxNi4zODM3ODkxIEM0My43NjM2NzAxLDE2LjQ1OTk2MTMgNDMuMzk2NDg2MywxNi41NzAzMTE4IDQzLjAxNzU3ODEsMTYuNzE0ODQzOCBMNDIuOTU4OTg0NCwxNi43MTQ4NDM4IEw0Mi45NTg5ODQ0LDE1LjU5NTcwMzEgQzQzLjE3MzgyOTIsMTUuNTM3MTA5MSA0My40ODQzNzMsMTUuNDcyNjU2NiA0My44OTA2MjUsMTUuNDAyMzQzOCBDNDQuMjk2ODc3LDE1LjMzMjAzMDkgNDQuNjk3MjYzNywxNS4yOTY4NzUgNDUuMDkxNzk2OSwxNS4yOTY4NzUgQzQ1LjU1MjczNjcsMTUuMjk2ODc1IDQ1Ljk1NDA5OTksMTUuMzM0OTYwNiA0Ni4yOTU4OTg0LDE1LjQxMTEzMjggQzQ2LjYzNzY5NywxNS40ODczMDUxIDQ2LjkzMzU5MjUsMTUuNjE3MTg2NiA0Ny4xODM1OTM4LDE1LjgwMDc4MTIgQzQ3LjQyOTY4ODcsMTUuOTgwNDY5NiA0Ny42MTcxODY5LDE2LjIxMjg4OTIgNDcuNzQ2MDkzOCwxNi40OTgwNDY5IEM0Ny44NzUwMDA2LDE2Ljc4MzIwNDYgNDcuOTM5NDUzMSwxNy4xMzY3MTY2IDQ3LjkzOTQ1MzEsMTcuNTU4NTkzOCBMNDcuOTM5NDUzMSwyMiBaIE00Ni44NDM3NSwyMC4zODg2NzE5IEw0Ni44NDM3NSwxOC41NjY0MDYyIEM0Ni41MDc4MTA4LDE4LjU4NTkzNzYgNDYuMTEyMzA3LDE4LjYxNTIzNDIgNDUuNjU3MjI2NiwxOC42NTQyOTY5IEM0NS4yMDIxNDYyLDE4LjY5MzM1OTYgNDQuODQxNzk4MiwxOC43NDk5OTk2IDQ0LjU3NjE3MTksMTguODI0MjE4OCBDNDQuMjU5NzY0LDE4LjkxNDA2MjkgNDQuMDAzOTA3MiwxOS4wNTM3MSA0My44MDg1OTM4LDE5LjI0MzE2NDEgQzQzLjYxMzI4MDMsMTkuNDMyNjE4MSA0My41MTU2MjUsMTkuNjkzMzU3NyA0My41MTU2MjUsMjAuMDI1MzkwNiBDNDMuNTE1NjI1LDIwLjQwMDM5MjUgNDMuNjI4OTA1MSwyMC42ODI2MTYyIDQzLjg1NTQ2ODgsMjAuODcyMDcwMyBDNDQuMDgyMDMyNCwyMS4wNjE1MjQ0IDQ0LjQyNzczMjEsMjEuMTU2MjUgNDQuODkyNTc4MSwyMS4xNTYyNSBDNDUuMjc5Mjk4OCwyMS4xNTYyNSA0NS42MzI4MTA5LDIxLjA4MTA1NTQgNDUuOTUzMTI1LDIwLjkzMDY2NDEgQzQ2LjI3MzQzOTEsMjAuNzgwMjcyNyA0Ni41NzAzMTExLDIwLjU5OTYxMDQgNDYuODQzNzUsMjAuMzg4NjcxOSBaIE01NS4zNjkxNDA2LDIxLjI1NTg1OTQgQzU1LjM2OTE0MDYsMjIuMzY1MjM5OSA1NS4xMTcxOSwyMy4xNzk2ODQ5IDU0LjYxMzI4MTIsMjMuNjk5MjE4OCBDNTQuMTA5MzcyNSwyNC4yMTg3NTI2IDUzLjMzMzk4OTYsMjQuNDc4NTE1NiA1Mi4yODcxMDk0LDI0LjQ3ODUxNTYgQzUxLjkzOTQ1MTQsMjQuNDc4NTE1NiA1MS42MDA1ODc2LDI0LjQ1NDEwMTggNTEuMjcwNTA3OCwyNC40MDUyNzM0IEM1MC45NDA0MjgsMjQuMzU2NDQ1MSA1MC42MTUyMzYsMjQuMjg3MTA5OCA1MC4yOTQ5MjE5LDI0LjE5NzI2NTYgTDUwLjI5NDkyMTksMjMuMDcyMjY1NiBMNTAuMzUzNTE1NiwyMy4wNzIyNjU2IEM1MC41MzMyMDQsMjMuMTQyNTc4NSA1MC44MTgzNTc0LDIzLjIyOTQ5MTcgNTEuMjA4OTg0NCwyMy4zMzMwMDc4IEM1MS41OTk2MTEzLDIzLjQzNjUyNCA1MS45OTAyMzI0LDIzLjQ4ODI4MTMgNTIuMzgwODU5NCwyMy40ODgyODEzIEM1Mi43NTU4NjEzLDIzLjQ4ODI4MTMgNTMuMDY2NDA1LDIzLjQ0MzM1OTggNTMuMzEyNSwyMy4zNTM1MTU2IEM1My41NTg1OTUsMjMuMjYzNjcxNCA1My43NDk5OTkzLDIzLjEzODY3MjcgNTMuODg2NzE4OCwyMi45Nzg1MTU2IEM1NC4wMjM0MzgyLDIyLjgyNjE3MTEgNTQuMTIxMDkzNSwyMi42NDI1NzkyIDU0LjE3OTY4NzUsMjIuNDI3NzM0NCBDNTQuMjM4MjgxNSwyMi4yMTI4ODk2IDU0LjI2NzU3ODEsMjEuOTcyNjU3NiA1NC4yNjc1NzgxLDIxLjcwNzAzMTMgTDU0LjI2NzU3ODEsMjEuMTA5Mzc1IEM1My45MzU1NDUyLDIxLjM3NTAwMTMgNTMuNjE4MTY1NiwyMS41NzMyNDE1IDUzLjMxNTQyOTcsMjEuNzA0MTAxNiBDNTMuMDEyNjkzOCwyMS44MzQ5NjE2IDUyLjYyNjk1NTUsMjEuOTAwMzkwNiA1Mi4xNTgyMDMxLDIxLjkwMDM5MDYgQzUxLjM3Njk0OTIsMjEuOTAwMzkwNiA1MC43NTY4MzgyLDIxLjYxODE2NjkgNTAuMjk3ODUxNiwyMS4wNTM3MTA5IEM0OS44Mzg4NjQ5LDIwLjQ4OTI1NSA0OS42MDkzNzUsMTkuNjkzMzY0NSA0OS42MDkzNzUsMTguNjY2MDE1NiBDNDkuNjA5Mzc1LDE4LjEwMzUxMjggNDkuNjg4NDc1OCwxNy42MTgxNjYxIDQ5Ljg0NjY3OTcsMTcuMjA5OTYwOSBDNTAuMDA0ODgzNiwxNi44MDE3NTU4IDUwLjIyMDcwMTgsMTYuNDQ5MjIwMiA1MC40OTQxNDA2LDE2LjE1MjM0MzggQzUwLjc0ODA0ODEsMTUuODc0OTk4NiA1MS4wNTY2Mzg4LDE1LjY1OTE4MDUgNTEuNDE5OTIxOSwxNS41MDQ4ODI4IEM1MS43ODMyMDQ5LDE1LjM1MDU4NTIgNTIuMTQ0NTI5NSwxNS4yNzM0Mzc1IDUyLjUwMzkwNjIsMTUuMjczNDM3NSBDNTIuODgyODE0NCwxNS4yNzM0Mzc1IDUzLjIwMDE5NCwxNS4zMTE1MjMxIDUzLjQ1NjA1NDcsMTUuMzg3Njk1MyBDNTMuNzExOTE1MywxNS40NjM4Njc2IDUzLjk4MjQyMDQsMTUuNTgwMDc3MyA1NC4yNjc1NzgxLDE1LjczNjMyODEgTDU0LjMzNzg5MDYsMTUuNDU1MDc4MSBMNTUuMzY5MTQwNiwxNS40NTUwNzgxIEw1NS4zNjkxNDA2LDIxLjI1NTg1OTQgWiBNNTQuMjY3NTc4MSwyMC4yMDExNzE5IEw1NC4yNjc1NzgxLDE2LjYzMjgxMjUgQzUzLjk3NDYwNzksMTYuNDk5OTk5MyA1My43MDIxNDk3LDE2LjQwNTI3MzcgNTMuNDUwMTk1MywxNi4zNDg2MzI4IEM1My4xOTgyNDA5LDE2LjI5MTk5MTkgNTIuOTQ3MjY2OSwxNi4yNjM2NzE5IDUyLjY5NzI2NTYsMTYuMjYzNjcxOSBDNTIuMDkxNzkzOCwxNi4yNjM2NzE5IDUxLjYxNTIzNjEsMTYuNDY2Nzk0OCA1MS4yNjc1NzgxLDE2Ljg3MzA0NjkgQzUwLjkxOTkyMDEsMTcuMjc5Mjk4OSA1MC43NDYwOTM4LDE3Ljg2OTEzNjggNTAuNzQ2MDkzOCwxOC42NDI1NzgxIEM1MC43NDYwOTM4LDE5LjM3Njk1NjggNTAuODc0OTk4NywxOS45MzM1OTE5IDUxLjEzMjgxMjUsMjAuMzEyNSBDNTEuMzkwNjI2MywyMC42OTE0MDgxIDUxLjgxODM1NjQsMjAuODgwODU5NCA1Mi40MTYwMTU2LDIwLjg4MDg1OTQgQzUyLjczNjMyOTcsMjAuODgwODU5NCA1My4wNTc2MTU2LDIwLjgxOTMzNjYgNTMuMzc5ODgyOCwyMC42OTYyODkxIEM1My43MDIxNSwyMC41NzMyNDE2IDUzLjk5ODA0NTUsMjAuNDA4MjA0MiA1NC4yNjc1NzgxLDIwLjIwMTE3MTkgWiIgaWQ9IkFkZC1UYWctQ29weS0yIiBmaWxsPSIjNEE3RTAyIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4=);
        width: 65px;
      }
      .not-tagged-icon-non-english {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxyZWN0IGlkPSJhIiB3aWR0aD0iMzUiIGhlaWdodD0iMzUiIHJ4PSI0Ii8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHVzZSBmaWxsPSIjRkZGIiB4bGluazpocmVmPSIjYSIvPjxyZWN0IHN0cm9rZT0iIzk3OTc5NyIgeD0iLjUiIHk9Ii41IiB3aWR0aD0iMzQiIGhlaWdodD0iMzQiIHJ4PSI0Ii8+PGcgZmlsbD0iIzYzQTgwMiI+PHBhdGggZD0iTTkgMTQuNjNjLS41IDAtMS0uNC0xLTF2LThjMC0uNi41LTEgMS0xczEgLjQgMSAxdjhjMCAuNi0uNSAxLTEgMXoiLz48cGF0aCBkPSJNMTQgOS42M2MwIC42LS41IDEtMSAxSDVjLS41IDAtMS0uNC0xLTFzLjUtMSAxLTFoOGMuNSAwIDEgLjQgMSAxeiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMSA5KSIgZmlsbD0iIzYzQTgwMiI+PGNpcmNsZSBjeD0iOS41IiBjeT0iNC41IiByPSI0LjUiLz48cGF0aCBkPSJNOS41IDIwYzQuNzc1IDAgOC42NDYuMDggOC42NDYtMy41MDYgMC0zLjU4Ny0zLjg3LTYuNDk0LTguNjQ2LTYuNDk0LTQuNzc1IDAtOC42NDYgMi45MDctOC42NDYgNi40OTRDLjg1NCAyMC4wOCA0LjcyNCAyMCA5LjUgMjB6Ii8+PC9nPjwvZz48L3N2Zz4=);
        width: 35px;
      }
      .not-tagged-icon {
        background-position: center center;
        background-repeat: no-repeat;
        background-size: contain;
        display:inline-block;
        height:35px;
        top: initial;
      }
      .comment-icon {
        background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE0cHgiIGhlaWdodD0iMTNweCIgdmlld0JveD0iMCAwIDE0IDEzIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggMy40LjIgKDE1ODU1KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5jb21tZW50LWV4dHJhLXNtYWxsPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc2tldGNoOnR5cGU9Ik1TUGFnZSI+CiAgICAgICAgPGcgaWQ9ImdyaWQtZGVmYXVsdCwtc2VsZWN0ZWQsLXVwbG9hZGluZywtZXJyb3IiIHNrZXRjaDp0eXBlPSJNU0FydGJvYXJkR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMTEuMDAwMDAwLCAtNzY4LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iUmVjdGFuZ2xlLTgxNC0rLVJlY3RhbmdsZS0yLSstY29tbWVudC1leHRyYS1zbWFsbC0rLTItQ29weS02IiBza2V0Y2g6dHlwZT0iTVNMYXllckdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMDIuMDAwMDAwLCA3NjQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iUmVjdGFuZ2xlLTItKy1jb21tZW50LWV4dHJhLXNtYWxsLSstMi1Db3B5LTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkuMDAwMDAwLCAyLjAwMDAwMCkiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJjb21tZW50LWV4dHJhLXNtYWxsLSstMiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJjb21tZW50LWV4dHJhLXNtYWxsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMi4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJBcnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJDb21tZW50X194MjhfWFNfeDI5XyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtcGF0aCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE0IiBoZWlnaHQ9IjEzIj48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yLjEsOS45IEwxLDkuOSBDMC41MDQsOS45IDAuMSw5LjQ5NiAwLjEsOSBMMC4xLDQgQzAuMSwzLjUwNCAwLjUwNCwzLjEgMSwzLjEgTDIuOSwzLjEgTDIuOSw2IEMyLjksNy4xNTggMy44NDEsOC4xIDUsOC4xIEw3LDguMSBMOC43NjIsOS45IEw1LjAwOCw5LjkgTDIuMSwxMi43NjIgTDIuMSw5LjkgTDIuMSw5LjkgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik04LjA2Miw2LjkyOSBMNSw2LjkgQzQuNTA0LDYuOSA0LjEsNi40OTYgNC4xLDYgTDQuMSwxIEM0LjEsMC41MDQgNC41MDQsMC4xIDUsMC4xIEwxMywwLjEgQzEzLjQ5NiwwLjEgMTMuOSwwLjUwNCAxMy45LDEgTDEzLjksNiBDMTMuOSw2LjQ5NiAxMy40OTYsNi45IDEzLDYuOSBMMTEuOSw2LjkgTDExLjksMTAuNzU5IEw4LjA2Miw2LjkyOSBMOC4wNjIsNi45MjkgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=");
        background-position: 6px center;
        background-repeat: no-repeat;
        background-size: 15px 15px;
        background-color: #4d4d4a;
        border-radius: 9px;
        box-sizing: border-box;
        color: #fff;
        display: inline-block;
        font-size: 0.875rem;
        font-size: 14px;
        font-weight: normal;
        line-height: 1;
        margin: 0 4px;
        min-width: 21px;
        padding: 2px 8px 2px 26px;
        position: relative;
        text-shadow: none;
        border: 1px solid #FFFFFF;
        font-style: normal;
      }

      .info-icon {
        background-image: url('data:image/svg+xml;charset=utf-8, %3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.2%22%20baseProfile%3D%22tiny%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M10%2018.7c-4.8%200-8.7-3.9-8.7-8.7%200-4.8%203.9-8.7%208.7-8.7%204.8%200%208.7%203.9%208.7%208.7C18.7%2014.8%2014.8%2018.7%2010%2018.7zM9.1%207.4c-0.4%200-0.9%200.1-1.3%200.2C7.1%207.9%206.9%208.4%206.9%208.8%207%209.1%207.2%209.3%207.4%209.3c0.4%200%200.5%200.1%200.6%200.1%200%200%200.1%200.1%200.1%200.5%200%200.2%200%200.3-0.1%200.5%200%200.2-0.1%200.4-0.2%200.7l-0.7%202.5c-0.1%200.3-0.1%200.5-0.1%200.8%200%200.2%200%200.4%200%200.7%200%200.6%200.2%201.1%200.7%201.5C7.9%2016.7%208.5%2017.2%209.5%2017.2c0.5%200%201.2-0.2%201.7-0.4%200.5-0.2%200.9-0.6%200.9-1%200-0.2-0.1-0.4-0.2-0.6%20-0.1-0.1-0.2-0.1-0.3-0.1%20-0.1%200-0.3%200.1-0.4%200.1l-0.1%200c-0.4%200-0.5-0.1-0.6-0.1%200%200-0.1-0.2-0.1-0.4%200-0.1%200-0.3%200.1-0.5%200-0.2%200.1-0.5%200.1-0.7l0.7-2.5c0.1-0.3%200.1-0.5%200.2-0.8%200-0.3%200-0.5%200-0.6%200-0.6-0.2-1.1-0.7-1.5C10.4%207.6%209.8%207.4%209.1%207.4zM10.7%202.8c-0.5%200-1%200.2-1.4%200.5C8.8%203.7%208.6%204.2%208.6%204.7c0%200.5%200.2%201%200.6%201.4%200.4%200.4%200.9%200.5%201.4%200.5%200.5%200%201-0.2%201.4-0.5%200.4-0.4%200.6-0.8%200.6-1.3%200-0.5-0.2-1-0.6-1.3C11.7%203%2011.2%202.8%2010.7%202.8z%22%2F%3E%3Crect%20fill%3D%22none%22%20width%3D%2220%22%20height%3D%2220%22%2F%3E%3C%2Fsvg%3E%0D%0A');
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
        display: inline-block;
        width: 18px;
        height: 18px;
        position: relative;
        top: 4px;
        margin-left: 5px;
      }

      .col-3 .place {
        height: 38px;
      }

      .col-2 .place {
        height: 28px;
      }

      .story-icon {
        background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8%2BCjxzdmcgd2lkdGg9IjU4cHgiIGhlaWdodD0iMzZweCIgdmlld0JveD0iMCAwIDU4IDM2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggMy4zLjMgKDEyMDcyKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5waG90b3MtYW5kLXN0b3JpZXMtbWVkaXVtIGNvcHk8L3RpdGxlPgogICAgPGRlc2M%2BQ3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M%2BCiAgICA8ZGVmcz48L2RlZnM%2BCiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBza2V0Y2g6dHlwZT0iTVNQYWdlIj4KICAgICAgICA8ZyBpZD0iZ2FsbGVyeS1ncmlkLW15LW1lbW9yaWVzLWRlc2t0b3AtY29weS01IiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzk2LjAwMDAwMCwgLTQ4MS4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IkJ1dHRvbnMtLy1QcmltYXJ5LUNvcHktMTgtKy1waG90b3MtYW5kLXN0b3JpZXMtbWVkaXVtLWNvcHktKy1CdXR0b25zLS8tUHJpbWFyeS1Db3B5LTE5LSstbWVtb3JpZXMtMnhsIiBza2V0Y2g6dHlwZT0iTVNMYXllckdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NTUuMDAwMDAwLCA0ODEuMDAwMDAwKSI%2BCiAgICAgICAgICAgICAgICA8ZyBpZD0iQnV0dG9ucy0vLVByaW1hcnktQ29weS0xOC0rLXBob3Rvcy1hbmQtc3Rvcmllcy1tZWRpdW0tY29weSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI%2BCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9InBob3Rvcy1hbmQtc3Rvcmllcy1tZWRpdW0tY29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDEuMDAwMDAwLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjUuMzAzODYzNCwyNS4wNTI5MDY4IEwyNS4yMjk0MDM3LDIzLjM4MTcwMTkgQzI1LjIwMDQ0NzIsMjIuNzAxOTEzIDI0LjY3OTIyOTgsMjEuODk1MjY3MSAyNC4wNzI1MjE3LDIxLjU4NjM5NzUgTDE5LjY3MTEzMDQsMTkuMzQ5ODUwOSBMMTkuNjcyNTA5MywxOS4zMjkxNjc3IEMyMy4yMTg5OTM4LDE4Ljg4MTAzMTEgMjQuMTY0OTA2OCwxNi42ODQ0NzIgMjQuMTY0OTA2OCwxNi42ODQ0NzIgQzI0LjE2NDkwNjgsMTYuNjg0NDcyIDIxLjU0NjQwOTksMTYuMDQ0NjcwOCAyMi41NDYwOTk0LDEyLjE4NjU1OSBDMjIuNjI0Njk1NywxMS44ODA0NDcyIDIyLjY1MDg5NDQsMTEuNjAxOTEzIDIyLjY1Nzc4ODgsMTEuMzM4NTQ2NiBDMjIuOTE0MjYwOSw5LjIzNzEzMDQzIDIxLjMzMjY4MzIsNy4xMTY0MDk5NCAxOC4yNzk4Mzg1LDYuODI0MDg2OTYgQzE1LjIyOTc1MTYsNi41MzMxNDI4NiAxMy4yNzcyNTQ3LDguMzE0NjU4MzkgMTMuMTI1NTc3NiwxMC40MjQzNDc4IEMxMy4wODE0NTM0LDEwLjY4NjMzNTQgMTMuMDU1MjU0NywxMC45NjM0OTA3IDEzLjA3NzMxNjgsMTEuMjgyMDEyNCBDMTMuMzI0MTM2NiwxNS4yNjAwODcgMTAuNjMxMTgwMSwxNS4zODk3MDE5IDEwLjYzMTE4MDEsMTUuMzg5NzAxOSBDMTAuNjMxMTgwMSwxNS4zODk3MDE5IDExLjE4ODI0ODQsMTcuNzEwMzYwMiAxNC41NjIzNzI3LDE4LjgzMTM5MTMgTDE0LjU1OTYxNDksMTguODYwMzQ3OCBMOS44MTkwMTg2MywyMC4yMjEzMDQzIEM5LjE2NTQyODU3LDIwLjQwODgzMjMgOC40OTk0Mjg1NywyMS4xMDI0MDk5IDguMzM5NDc4MjYsMjEuNzY0MjczMyBDOC4zMzk0NzgyNiwyMS43NjQyNzMzIDguMTM1NDAzNzMsMjIuNTgwNTcxNCA3LjkzNDA4Njk2LDIzLjM4ODU5NjMgTDI1LjMwMzg2MzQsMjUuMDUyOTA2OCBMMjUuMzAzODYzNCwyNS4wNTI5MDY4IFoiIGlkPSJTaGFwZSIgZmlsbD0iIzMzMzMzMSI%2BPC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjguOTU2NTIxNywzNS43MTMwNDM1IEMyNy42NDM4MjYxLDM1LjcxMTY2NDYgMjYuOTUzMDA2MiwzNS4yODY5Njg5IDI2LjM0NDkxOTMsMzQuOTEzMjkxOSBDMjUuOTAwOTE5MywzNC42NDAyNzMzIDI1LjUxNjIxMTIsMzQuNDA0NDg0NSAyNC45OTQ5OTM4LDM0LjQwNDQ4NDUgTDEuNDA5MjE3MzksMzQuNDA0NDg0NSBDMC43MDg3NDUzNDIsMzQuNDA0NDg0NSAwLjEzNzg4ODE5OSwzMy43ODM5ODc2IDAuMTM3ODg4MTk5LDMzLjAyMDA4NyBDMC4xNjQwODY5NTcsMzIuNTk4MTQ5MSAzLjg4NTY4OTQ0LDUuNzU4MjExMTggMy45MjI5MTkyNSw1LjQ4NjU3MTQzIEMzLjk5MTg2MzM1LDQuOTg0NjU4MzkgNC40NDk2NTIxNyw0LjU3NTEzMDQzIDQuOTQ0NjcwODEsNC41NzUxMzA0MyBMNS43Mzc1Mjc5NSw0LjU3NTEzMDQzIEw2LjQyNjk2ODk0LDAuMjA1NDUzNDE2IEM5LjY2MDQ0NzIsMS43NDk4MDEyNCAxNC40MzQxMzY2LDIuMDUxNzc2NCAxOC42NTM1MTU1LDIuMzE3OTAwNjIgQzI0LjEwOTc1MTYsMi42NjI2MjExMiAyOC44MjEzOTEzLDIuOTU5MDgwNzUgMjguODIxMzkxMyw1LjY3MTM0MTYxIEwyOS4wOTQ0MDk5LDUuNjcxMzQxNjEgQzI5LjA5NDQwOTksMi45NjA0NTk2MyAzMy44MDYwNDk3LDIuNjYyNjIxMTIgMzkuMjYyMjg1NywyLjMxNzkwMDYyIEM0My40ODMwNDM1LDIuMDUxNzc2NCA0OC4yNTY3MzI5LDEuNzQ5ODAxMjQgNTEuNDkwMjExMiwwLjIwNTQ1MzQxNiBMNTIuMTc1NTE1NSw0LjU3NTEzMDQzIEw1Mi45NzI1MDkzLDQuNTc1MTMwNDMgQzUzLjQ1NTExOCw0LjU3NTEzMDQzIDUzLjkyMTE4MDEsNC45OTI5MzE2OCA1My45OTI4ODIsNS40ODY1NzE0MyBDNTQuMDI4NzMyOSw1Ljc1NjgzMjMgNTcuNzQ4OTU2NSwzMi41OTY3NzAyIDU3Ljc3NTE1NTMsMzMuMDI1NjAyNSBDNTcuNzc1MTU1MywzMy43ODM5ODc2IDU3LjIwNDI5ODEsMzQuNDA0NDg0NSA1Ni41MDI0NDcyLDM0LjQwNDQ4NDUgTDMyLjkxODA0OTcsMzQuNDA0NDg0NSBDMzIuMzk1NDUzNCwzNC40MDQ0ODQ1IDMyLjAxMjEyNDIsMzQuNjQwMjczMyAzMS41NjY3NDUzLDM0LjkxMzI5MTkgQzMwLjk1NzI3OTUsMzUuMjg4MzQ3OCAzMC4yNjc4Mzg1LDM1LjcxMTY2NDYgMjguOTU2NTIxNywzNS43MTMwNDM1IEwyOC45NTY1MjE3LDM1LjcxMzA0MzUgTDI4Ljk1NjUyMTcsMzUuNzEzMDQzNSBaIE01LjA2MTg3NTc4LDI3LjA3NTcyNjcgTDUuMTMzNTc3NjQsMjcuMTIxMjI5OCBDNy4yMTU2ODk0NCwyOC40MjE1MTU1IDEyLjAyOTM2NjUsMjguNzYzNDc4MyAxNi42ODQ0NzIsMjkuMDk1Nzg4OCBDMjEuNDA3MTQyOSwyOS40MzA4NTcxIDI2LjI4OTc2NCwyOS43NzgzMzU0IDI3Ljk2MjM0NzgsMzEuMTMxMDE4NiBMMjguMTg1NzI2NywzMS4zMTE2NTIyIEwyOC4xODU3MjY3LDUuNzA1ODEzNjYgQzI2LjUxMzE0MjksMy45MDQ5OTM3OSAyMS45ODQ4OTQ0LDMuNjgxNjE0OTEgMTcuMTkxOTAwNiwzLjQ0NzIwNDk3IEMxMy42MjYxMTE4LDMuMjczNDY1ODQgOS45Mzc2MDI0OCwzLjA5MTQ1MzQyIDcuNjYyNDQ3MiwyLjI0MDY4MzIzIEw3LjQ5NDIyMzYsMi4xNzcyNTQ2NiBMNS4wNjE4NzU3OCwyNy4wNzU3MjY3IEw1LjA2MTg3NTc4LDI3LjA3NTcyNjcgWiBNNTAuMjQ5MjE3NCwyLjI0MDY4MzIzIEM0Ny45NzY4MTk5LDMuMDkyODMyMyA0NC4yODgzMTA2LDMuMjczNDY1ODQgNDAuNzIxMTQyOSwzLjQ0NzIwNDk3IEMzNS45MjY3NzAyLDMuNjgxNjE0OTEgMzEuMzk4NTIxNywzLjkwNDk5Mzc5IDI5Ljc2MzE2NzcsNS42MTA2NzA4MSBMMjkuNzI1OTM3OSwzMS4zMTAyNzMzIEwyOS45NDkzMTY4LDMxLjEyOTYzOTggQzMxLjYyNDY1ODQsMjkuNzc4MzM1NCAzNi41MDcyNzk1LDI5LjQzMDg1NzEgNDEuMjI5OTUwMywyOS4wOTQ0MDk5IEM0NS44ODY0MzQ4LDI4Ljc2MzQ3ODMgNTAuNzAxNDkwNywyOC40MjE1MTU1IDUyLjc4MjIyMzYsMjcuMTE5ODUwOSBMNTIuODU1MzA0MywyNy4wNzQzNDc4IEw1MC40MTc0NDEsMi4xNzcyNTQ2NiBMNTAuMjQ5MjE3NCwyLjI0MDY4MzIzIEw1MC4yNDkyMTc0LDIuMjQwNjgzMjMgWiIgaWQ9IlNoYXBlIiBmaWxsPSIjMzMzMzMxIj48L3BhdGg%2BCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzMuMDkzMTY4LCA2Ljg5NDQxMCkiIHN0cm9rZT0iIzMzMzMzMSIgc3Ryb2tlLXdpZHRoPSIxLjMzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMS41MzcxMDU2LDE3LjU3Mzg1MDkgQzcuNzI1ODc1NzgsMTcuODk3ODg4MiAzLjQ0NzIwNDk3LDE4LjAzOTkxMyAwLjM3MjI5ODEzNywxOC41OTk3MzkxIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNS42NDIwMzczLDEyLjg0ODQyMjQgQzExLjI2ODIyMzYsMTMuNjM4NTIxNyA0LjY2MDYyMTEyLDEzLjU2NTQ0MSAwLjM4MTk1MDMxMSwxNC4zNDQ1MDkzIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNS4xNzczNTQsOC42OTUyMjk4MSBDMTAuODYxNDUzNCw5LjQyMTkwMDYyIDQuNTM3OTAwNjIsOS4zMzIyNzMyOSAwLjM5NDM2MDI0OCwxMC4wODY1MjE3IiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNC43MTEyOTE5LDQuNTQyMDM3MjcgQzEwLjQ1NDY4MzIsNS4yMDY2NTgzOSA0LjQxMjQyMjM2LDUuMTAwNDg0NDcgMC40MDQwMTI0MjIsNS44Mjk5MTMwNCIgaWQ9IlNoYXBlIj48L3BhdGg%2BCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQuMjQ2NjA4NywwLjM5MDIyMzYwMiBDMTAuMDQ3OTEzLDAuOTkyNzk1MDMxIDQuMjg5NzAxODYsMC44Njg2OTU2NTIgMC40MTY0MjIzNiwxLjU3MzMwNDM1IiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLXBhdGgiIHg9IjAiIHk9IjAiIHdpZHRoPSI1Ny45MTMwNDM1IiBoZWlnaHQ9IjM1Ljg1MDkzMTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8L2c%2BCiAgICAgICAgICAgICAgICA8L2c%2BCiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c%2BCiAgICA8L2c%2BCjwvc3ZnPg%3D%3D');
        display: inline-block;
        background-size: contain;
        background-repeat: no-repeat;
        height: 19px;
        width: 31px;
        position: relative;
        top: 10px;
        left: 5px;
      }

      .attached-audio {
        width: 17px;
        height: 17px;
        display: inline-flex;
        justify-content: center;
        position: absolute;
        bottom: 0px;
        right: 0px;
        background-color: #88B748;
        border-radius: 8px;
      }

      .attached-audio-icon {
        transform: scale(.45);
      }

      .date a, .place a {
        display: inline-block;
        padding: 5px;
      }

      @media all and (min-width: 768px) {
        .title-text:focus, .add-styles:focus {
          position: relative;
          top: 4px;
          left: 4px;
        }
      }

      @media all and (max-width: 979px) {
        #container {
          padding-left: 10px;
          height: 58px;
        }
        .col-1 {
          width: 38%;
        }
        .col-3 {
          width: 24%;
        }
        .thumbnail {
          width: 47px;
          height: 47px;
        }
        .tag-note {
          position: relative;
          top: 7px;
        }
        .comment-note {
          position: relative;
          top: 6px;
        }
        .title .title-input {
          font-size: 16px;
        }
        .right-text {
          right: 50px;
        }
        .attached-audio {
          bottom: -6px;
          right: -6px;
        }
      }

      @media all and (max-width: 767px) {
        #container {
          height: 80px;
        }
        #container, .col .title {
          font-size: 12px;
          line-height: 14px;
        }
        .col .title {
          height: 44px;
          -webkit-line-clamp: 3;
        }

        .restricted {
          line-height: 22.75px;
        }
        .error-text {
          max-width: 300px;
        }
        .col .contributed-title-text {
          height: 30px;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        .col-1 {
          width: 45%;
        }
        .col-2 {
          width: 43%;
        }
        .col-2 .place {
          display: block;
        }
        .col-3 {
          display: none;
        }
        .col-5 {
          width: 9%;
          text-align: start;
          position: relative;
        }
        .list-preview {
          margin-right: 16px;
        }

        .not-tagged-icon-english {
          width: 59px;
        }

        .not-tagged-icon-non-english {
          width: 29px;
        }
        .comment-icon {
          height: 18px;
          width: 40px;
          top: 10px;
          right: -2px;
          background-size: 14px;
        }
        .tag-note {
          top: -23px;
          right: 5px;
        }
        .comment-note {
          top: 20px;
          height: 18px;
          position: relative;
        }
      }

      .layout.vertical {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      }

      .layout.center-justified{
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      }

      @media all and (max-width: 375px) {
        #container .place,
        #container .place-text,
        #container .add-styles,
        #container .date {
          height: 35px;
          margin: 0px;
          overflow: hidden;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
        }
      }
    </style>
    <iron-ajax id="postTitle"
      url="[[ajaxBase]]/service/memories/manager/artifacts/[[data.id]]"
      headers='[[authHeaders]]'
      method="POST"
      on-response="_handlePostTitleResponse"
      on-error="_handlePostTitleError"></iron-ajax>
    <div id='container' on-tap="_goToArtifact">
      <div class='col col-1'>
        <div class='list-preview'>
          <template is='dom-if' if="[[_displayThumbnail(data.thumbUrl, data.category)]]" restamp>
            <iron-image id="thumb" sizing="cover" position="center 15%" class="thumbnail preview" src="[[data.thumbUrl]]"></iron-image>
            <div class="attached-audio" hidden="[[!_hasAttachedAudio(data.associatedArtifacts)]]">
              <fs-icon class="attached-audio-icon" title="[[i18n('associated_audio')]]" alt="[[i18n('associated_audio')]]" icon="audio-recording-green-medium" color="var(--fs-color-white)"></fs-icon>
            </div>
          </template>
          <template is='dom-if' if='{{_isAudio(data.category)}}' restamp>
              <audio-item id="audio" class="preview" audio-url='[[data.url]]' tabindex="0" on-blur="_handleBlur"></audio-item>
          </template>
          <template is='dom-if' if='{{_showStoryIcon(data.category, data.thumbUrl)}}' restamp>
            <i class='story-icon preview'></i>
          </template>
        </div>

        <template is='dom-if' if='[[_hideContributorName(view, showContributed, _titleInputActive)]]'>
          <div class$='[[_calculateTitleClass(_titleError)]]'>
            <i class="exclamation-icon" hidden="[[!_titleError]]"></i>
            <a class="title-text" href$='[[_href]]' on-tap='_titleLinkOverride' hidden='[[_hideTitle(data.title, _titleInputActive)]]' title='[[data.title]]'><strong>[[data.title]]</strong></a>
            <template is='dom-if' if='[[data.editableByCaller]]'>
              <a href$='[[_href]]?focus=title' on-tap="_toggleAddTitleInput" class='add-styles' hidden='[[_hideAddTitle(data.title, _titleInputActive)]]'>
                <i class='add-icon'></i>[[i18n('add_title')]]
              </a>
              <input class="title-input" type="text" maxlength='140' hidden="[[!_titleInputActive]]" on-keydown="_handleEnterExitBlur" on-blur="_handleEnterExitBlur" on-tap="_stopProp" placeholder$="[[i18n('add_title')]]" />
            </template>
          </div>
        </template>

        <!--Contributed By-->
        <template is='dom-if' if='[[!_hideContributorName(view, showContributed, _titleInputActive)]]'>
          <div class$='[[_calculateTitleClass(_titleError)]]'>
            <div class='contributed-title-text'>
              <i class="exclamation-icon" hidden="[[!_titleError]]"></i>
              <a class="title-text" href$='[[_href]]' hidden='[[_hideTitle(data.title, _titleInputActive)]]' on-tap='_titleLinkOverride' title='[[data.title]]'><strong>[[data.title]]</strong></a>
              <template is='dom-if' if='[[data.editableByCaller]]'>
                <a href$='[[_href]]?focus=title' on-tap="_toggleAddTitleInput" class='add-styles' hidden='[[_hideAddTitle(data.title, _titleInputActive)]]' on-tap='_stopProp'>
                  <i class='add-icon'></i>[[i18n('add_title')]]
                </a>
              </template>
            </div>
            <div class="contributor" title='[[_getContributorName(data.*)]]' hidden='[[!_getContributorName(data.*)]]'>
              <span id='contributor-link' on-click='_openContactCard'></span>
            </div>
          </div>
        </div>
        </template>

      </div>

      <template is="dom-if" if="[[data.tombstoned]]">
        <div class='col col-2'>
          <div class="date">
            <div class="badge-wrapper">
              <small class='badge'>[[_getRemainingDaysCount(i18n, data)]]</small>
            </div>
          </div>
        </div>
      </template>

      <template is="dom-if" if="[[!data.tombstoned]]">
        <div class='col col-2' hidden='[[_showMobileMessage(_displayMessage, mobile)]]'>
          <div class='date'>
            <template is='dom-if' if='[[!data.editableByCaller]]'>
              <a href$='[[_href]][[_calcParams(view)]]&focus=date' class='date-text' title='[[_getDate(data.datesPlaces.0)]]' on-tap='_stopProp' hidden='[[!_hideDateElements(data.datesPlaces.0)]]'>
                <span>[[_getDate(data.datesPlaces.0)]]</span>
              </a>
            </template>
            <template is='dom-if' if='[[data.editableByCaller]]'>
              <a href$='[[_href]][[_calcParams(view)]]&focus=date' class='date-text' hidden='[[!_hideDateElements(data.datesPlaces.0)]]' on-tap='_stopPropForStandards' data-standard-type='date'>
                <span>[[_getDate(data.datesPlaces.0)]]</span>
              </a>
              <a href$='[[_href]][[_calcParams(view)]]&focus=date' class='add-styles' hidden='[[_hideDateElements(data.datesPlaces.0)]]' on-tap='_stopPropForStandards' data-standard-type='date'>
                <i class='add-icon' ></i>[[i18n('add_date')]]
              </a>
            </template>
          </div>
          <div class='place'>
            <template is='dom-if' if='[[!data.editableByCaller]]'>
              <a href$='[[_href]][[_calcParams(view)]]&focus=place' class='place-text' hidden='[[!_hidePlaceElements(data.datesPlaces.0)]]' title='[[_getPlace(data.datesPlaces.0)]]' on-tap='_stopProp'>
                <span> [[_getPlace(data.datesPlaces.0)]]</span>
              </a>
            </template>
            <template is='dom-if' if='[[data.editableByCaller]]'>
              <a href$='[[_href]][[_calcParams(view)]]&focus=place' class='place-text' hidden='[[!_hidePlaceElements(data.datesPlaces.0)]]' on-tap='_stopPropForStandards' data-standard-type='place' title='[[_getPlace(data.datesPlaces.0)]]'>
                <span>[[_getPlace(data.datesPlaces.0)]]</span>
              </a>
              <a href$='[[_href]][[_calcParams(view)]]&focus=place' class='add-styles' hidden='[[_hidePlaceElements(data.datesPlaces.0)]]' on-tap='_stopPropForStandards' data-standard-type='place'>
                <i class='add-icon'></i>[[i18n('add_place')]]
              </a>
            </template>
          </div>
        </div>
        <div class='col col-3' hidden='[[_showMobileMessage(_displayMessage, mobile)]]'>
          <div class='place'>
            <template is='dom-if' if='[[!data.editableByCaller]]'>
              <a href$='[[_href]][[_calcParams(view)]]&focus=place' class='place-text' title='[[_getPlace(data.datesPlaces.0)]]' hidden='[[!_hidePlaceElements(data.datesPlaces.0)]]' on-tap='_stopProp'>
                <span> [[_getPlace(data.datesPlaces.0)]]</span>
              </a>
            </template>
            <template is='dom-if' if='[[data.editableByCaller]]'>
              <a href$='[[_href]][[_calcParams(view)]]&focus=place' class='place-text' hidden='[[!_hidePlaceElements(data.datesPlaces.0)]]' on-tap='_stopPropForStandards' data-standard-type='place'>
                <span> [[_getPlace(data.datesPlaces.0)]]</span>
              </a>
              <a href$='[[_href]][[_calcParams(view)]]&focus=place' class='add-styles' hidden='[[_hidePlaceElements(data.datesPlaces.0)]]' on-tap='_stopPropForStandards' data-standard-type='place'>
                <i class='add-icon'></i>[[i18n('add_place')]]
              </a>
            </template>
          </div>
        </div>
        <div class='col col-4'>
          <span
            class="fs-tooltip"
            hidden="[[isPublic(data.visibility, privateMemoriesEx)]]"
            title="[[i18n('private_memory_tooltip')]]">
            <fs-icon class="private-memory-icon" icon="sign-in-small" data-test="listPrivateMemory"></fs-icon>
          </span>
        </div>
        <div class='col col-5'>
          <div class='comment-note'>
            <a href$='[[_href]][[_calcParams(view)]]' on-tap='_stopProp'>
              <i class='comment-icon' hidden='[[_hideComments(data.commentCount, _displayMessage)]]' title='[[i18n("comments")]]' href$='[[_href]][[_calcParams(view)]]'>[[data.commentCount]]</i>
            </a>
          </div>
          <div class='tag-note'>
            <a metrics-id="Artifact: Add Tag Icon" href$='[[_href]][[_calcParams(view)]]' on-tap='_stopProp'>
              <i metrics-id="Artifact: Add Tag Icon" class$='not-tagged-icon [[_getNotTaggedIconClass()]]' hidden='[[_hideTag(data.photoTagCount, _displayMessage)]]' title='[[i18n("not_tagged")]]'></i>
            </a>
          </div>
        </div>
        <!--Messages-->
        <!--Restricted-->
        <template is='dom-if' if='[[showMessages]]'>
          <div class="restricted layout vertical center-justified right-text" hidden="[[!restricted]]" on-tap='_openInfoDialog'>
            <span>
              [[i18n('restricted')]]
              <span class="info-icon" hidden='[[!_showRestrictedIcon]]'></span>
            </span>
          </div>

          <!--Uploading-->
          <div class="screening layout vertical center-justified" hidden="[[!uploading]]">
            [[i18n('uploading')]]
          </div>

          <!-- Upload Failed -->
          <div class="error-text" hidden="[[!uploadFailed]]">
            [[i18n('upload_failed')]]
          </div>

          <!--Processing-->
          <div class="screening layout vertical center-justified right-text" hidden="[[!processing]]">
            [[i18n('processing')]]
          </div>

          <!--Error Processing-->
          <div class="error-text" hidden="[[!processingFailed]]">
            [[i18n('processing_fail')]]
          </div>

          <!--Screening-->
          <div class="screening layout vertical center-justified right-text" hidden="[[!screening]]">
            [[i18n('screening')]]
          </div>
        </template>
      </template>
    </div>
  </template>

  <script>
    Polymer({
      is: 'fs-artifact-list-item',
      behaviors: [
        OakAJAXBehavior,
        WCI18n(),
        OakI18nBehavior,
        FsBehaviors.Metrics
      ],
      properties: {
        data: {
          type: Object,
          value: function() { return {}; }
        },
        /**
         * If set, enables the user to add a title inline.
        */
        inlineAddingEnabled: {
          type: Boolean,
          value: false
        },
        _href: {
          type: String,
          computed: '_computeHref(data.id)'
        },
        view: {
          type: String,
          value: null,
          observer: '_resetInputs'
        },
        owner: {
          type: String,
          value: ''
        },
        mobile: {
          type: Boolean,
          value: false
        },
        selectMode: {
          type: Boolean,
          value: false
        },
        /**
         * A flag to allow the contributor
         * name to be shown
         */
        showContributed: {
          type: Boolean,
          value: false
        },
        /**
         * A flag to allow messages to
         * be shown
         */
        showMessages: {
          type: Boolean,
          value: false
        },
        /**
        * A flag for showing the restricted
        * info dialog
        */
        showRestrictedInfo: {
          type: Boolean,
          value: false
        },
        /**
        * Flag for showing the restricted icon
        */
        _showRestrictedIcon: {
          type: Boolean,
          computed: '_isOwner(showRestrictedInfo, owner, data.contributorCisUserId, restricted)'
        },
        /**
         * A state message is being displayed
         */
        _displayMessage: {
          type: Boolean,
          value: false
        },
        // State Messages
        screening: {
          type: Boolean,
          value: false
        },
        restricted: {
          type: Boolean,
          value: false
        },
        processing: {
          type: Boolean,
          value: false
        },
        processingFailed: {
          type: Boolean,
          value: false
        },
        uploading: {
          type: Boolean,
          value: false
        },
        uploadFailed: {
          type: Boolean,
          value: false
        },
        readOnly: {
          type: Boolean,
          value: false
        },
        /**
         * Notifier for if the add title input is active.
        */
        alertInputActive: {
          computed: '_computeIsActive(_titleInputActive)',
          notify: true
        },
        _titleInputActive: {
          type: Boolean,
          value: false
        },
        _titleError: {
          type: Boolean,
          value: false
        },
        privateMemoriesEx: {
          type: Boolean,
          value: function () { return FS.showEx('privateMemoriesEx') }
        }
      },
      observers: [
        '_displayFourthColumn(mobile, selectMode)',
        '_modifyState(data.*, showMessages)',
        '_updatePreviewListeners(data.category)',
        '_translateContributor(i18n, data.*)'
      ],
      _getRemainingDaysCount: function(i18n, data) {
        if(!i18n || !i18n('remaining_days_count') || !data) return '';
        return i18n('remaining_days_count').replace('{0}', data.daysUntilDelete);
      },
      _triggerHoverEvent: function(e){
        this.fire('list-item-hover', {positionTarget: this.$$('.list-preview'), data: this.data})
      },
      _triggerMouseOut: function(e){
        this.fire('list-item-mouseout');
      },
      _titleLinkOverride: function(e) {
        if (this.selectMode || this.data.tombstoned) {
          e.preventDefault();
          return;
        }
        if (this._titleError) {
          e.preventDefault();
          e.stopPropagation();
          this._titleError = false;
          this._toggleAddTitleInput();
        }
      },
      _calculateTitleClass: function(_titleError) {
        return (_titleError) ? 'title error-styling' : 'title';
      },
      _calcParams: function(view) {
        if (this.view === 'my-memories' || this.view === 'my-archive' || this.view === 'my-favorites') {
          return "?c="+this.view;
        } else if(parseInt(this.view)) {
          return "?a="+this.view;
        } else {
          return "?a=none";
        }
      },
      _computeIsActive: function(titleInputActive) {
        if (titleInputActive) return true;
      },
      _computeHref: function(id) {
        var origin = window.location.origin;
        var path = (origin === 'http://localhost:5000') ? '' : '/photos';
        return origin + path + '/artifacts/' + id;
      },
      _handleEnterExitBlur: function(e) {
        this._stopProp(e);
        if (e.keyCode == 13 || e.key == "Enter" || e.type == "blur") {
          e.preventDefault();
          if (e.currentTarget.value.length > 0) {
          /* If the user hits the Enter key, a keydown and blur event are both fired.  Using async here
           * prevents the duplicate call to _saveTitle.  If we don't do this, metrics gets counted twice. */
          this.async(function() {
            // Repeat this check to prevent blur event from saving empty title
            if (e.currentTarget && e.currentTarget.value.length > 0) {
              this._saveTitle(e.currentTarget.value);
              e.currentTarget.value = '';
            }
          });
          } else {
            this._titleInputActive = false;
          }
          this._focusTitle();
        } else if (e.keyCode === 27) {
          // Handle exit key
          e.currentTarget.value = "";
          this.set('data.title', "");
          this._titleInputActive = false;
          this._focusTitle();
        }
      },
      _getPlace: function(datesPlaces) {
        if (!datesPlaces) return;
        return datesPlaces.placeNonStandardizedText
          || datesPlaces.placeLocalizedText
          || datesPlaces.placeNormalizedText;
      },
      _getDate: function(datesPlaces) {
        if (!datesPlaces) return;
        return datesPlaces.dateNonStandardizedText
          || datesPlaces.dateLocalizedText
          || datesPlaces.dateNormalizedText;
      },
      _handlePostTitleResponse: function(e) {
        if (e.detail.status < 400) this.fire('artifact-item-title-updated')
      },
      _handlePostTitleError: function(e) {
        this._titleError = true;
        this.fire('artifact-item-title-update-failed', e.detail.error);
      },
      _hideAddTitle: function(title, titleInputActive) {
        if (title || titleInputActive) return true;
        return false;
      },
      _hideTitle: function (title, titleInputActive) {
        return (!title || titleInputActive);
      },
      _hidePlaceElements: function(datesPlaces) {
        return !!this._getPlace(datesPlaces);
      },
      _hideDateElements: function(datesPlaces) {
        return !!this._getDate(datesPlaces);
      },
      _hideContributorName: function(view, showContributed, titleInputActive) {
        if (!showContributed || titleInputActive) return true;
        return (view != 'my-favorites' && !Number(view))
      },
      _hideComments: function(count, displayMessage) {
        if (displayMessage) return true;
        return count === 0;
      },
      _hideTag: function(count, displayMessage) {
        if (displayMessage) return true;
        return count > 0;
      },
      /*
        * Takes focus away from input, so keyboard closes on mobile devices.
      */
      _focusTitle: function() {
        if (document.activeElement && typeof document.activeElement.blur === 'function') document.activeElement.blur();
        this.$$('.title-text').focus();
      },
      _goToArtifact: function(e) {
        if (this.selectMode || this.data.tombstoned) return;

        this.fireMetrics({link_name: 'Artifact: Click to View'});

        e.preventDefault();
        this._stopProp(e);

        if (FS.showEx('artifactViewerModalEx')) {
          this.fire('view-artifact', {"artifact": this.data})
          return;
        }

        var url = this._href;

        var newTab = false;
        if (e && e.detail && e.detail.sourceEvent) {
          newTab = e.detail.sourceEvent.ctrlKey || e.detail.sourceEvent.metaKey
        }
        if (this.view === 'my-memories' || this.view === 'my-archive' || this.view === 'my-favorites') {
          url = url + "?c="+this.view;
        } else if(parseInt(this.view)) {
          url = url + "?a="+this.view;
        }
        if (newTab){
          window.open(url, '_blank').focus();
        } else {
          location = url;
        }
      },
      _is: function(a, b) {
        return a == b;
      },
      _modifyState: function(data, showMessages) {
        if (!showMessages) return;
        // Reset these states
        this.uploading = false;
        this.uploadFailed = false;
        this.processing = false;
        this.processingFailed = false;
        this.screening = false;
        this.restricted = false;
        this._displayMessage = false;
        // If just uploaded without refresh
        // don't check for the state
        if (this.data.recentlyUploaded) return;

        // Check upload state first and if it is not UPLOADED, display either UPLOADING or FAILED message as appropriate
        // Check processing state next.  If not PROCESSED, display appropriate state message
        // Check screening state. If not APPROVED, display RESTRICTED or SCREENING message as appropriate
        if (this.data.uploadState == 'UPLOADING') {
          this.uploading = true;
          this._displayMessage = true;
        } else if(this.data.uploadState == 'FAILED') {
          this.uploadFailed = true;
          this._displayMessage = true;
        } else if (this.data.category !== 'AUDIO' && this.data.imageProcessingState !== 'PROCESSED' && this.data.imageProcessingState !== 'FAILED') {
          this.processing = true;
          this._displayMessage = true;
        } else if (this.data.imageProcessingState === 'FAILED') {
          this.processingFailed = true;
          this._displayMessage = true;
        } else if (this.data.screeningState !== 'APPROVED' && this.data.screeningState !== 'ESCALATE' && this.data.screeningState !== 'RESTRICTED') {
          this.screening = true;
          this._displayMessage = true;
        } else if (this.data.screeningState === 'RESTRICTED') {
          this.restricted = true;
        }
      },
      _showMobileMessage: function(display, mobile) {
        // Hide the date/place parts to make room for error message
        if ((this.processingFailed || this.restricted) && this.showMessages) return true;

        return (display && mobile);
      },
      _isAudio: function(category) {
        return category && category == "AUDIO";
      },
      _showStoryIcon: function(category, thumbUrl){
        if (thumbUrl) return false;
        return category && category == "TEXT";
      },
      _displayThumbnail: function(thumbUrl, category) {
        // Audios associated with photos have thumbUrls
        // but shouldn't try to display those
        if (category === 'AUDIO') return false;
        return thumbUrl;
      },
      _displayFourthColumn: function(mobile, selectMode) {
        if ((!mobile && !selectMode) || this.data.tombstoned) return;
        var commentEl = this.$$('.comment-note');
        var personTagEl = this.$$('.tag-note');
        if ( !commentEl || !personTagEl ) return;
        if (mobile && selectMode && Boolean(commentEl) && Boolean(personTagEl)) {
          commentEl.hidden = true;
          personTagEl.hidden = true;
        } else if ((commentEl.hidden || personTagEl.hidden) && Boolean(commentEl) && Boolean(personTagEl) ) {
          commentEl.hidden = false;
          personTagEl.hidden = false;
        }
      },
      _resetInputs: function() {
        if (this._titleError) this._titleError = false;
        if (this.$$('.title-input')) this.$$('.title-input').value = "";
      },
      _saveTitle: function(titleText) {
        this.fireMetrics({link_name: 'Artifact: Save Title'});
        this.$.postTitle.body = {
          title: titleText
        };
        this.$.postTitle.generateRequest();
        this._titleInputActive = false;
        this.set('data.title', titleText);
      },
      _stopProp: function(e) {
        if (!this.selectMode) e.stopPropagation();
        this._metrics(e);
      },
      _stopPropForStandards: function(e) {
        if(!e || !e.currentTarget || !e.currentTarget.getAttribute('data-standard-type')) return;
        this._stopProp(e);
        // Firing an event here so that consumemrs can e.preventDefault() if needed
        this.fire('fs-artifact-list-item:standards-link', {
          click: e,
          el: this,
          standardType: e.currentTarget.getAttribute('data-standard-type')
        });
      },
      _toggleAddTitleInput: function(e) {
        if (this.inlineAddingEnabled) {
          if (e) {
            e.preventDefault();
            e.stopPropagation();
          }
          this._titleInputActive = true;
          // Flush dom so nothing takes the focus after the title input is focus.
          Polymer.dom.flush();
          this.$$('.title .title-input').focus();
        }
      },
      _translateContributor: function(i18n, data) {
        if (!this.showContributed || !data || !data.value || !i18n || !i18n('contributed_by_link')) return;
        var name = (data.value.ftUserInfo) ? data.value.ftUserInfo.contactName : data.value.contributorContactName;
        var contributor = this.$$('#contributor-link');
        if (contributor) contributor.innerHTML = i18n('contributed_by_link').replace('{0}', name);
      },
      _updatePreviewListeners: function(category) {
        if (category == "AUDIO") return;
        Polymer.dom.flush();
        if (this.$$('.preview')) {
          this.listen(this.$$('.preview'), 'mouseover', '_triggerHoverEvent');
          this.listen(this.$$('.preview'), 'mouseout', '_triggerMouseOut');
        }
      },
      _openContactCard: function(e) {
        e.stopPropagation();
        this.fireMetrics({link_name: 'Artifact: Select Contributor Name'});
        this.fire('gallery-close-contact-card',{});
        var contactData = {'event': e, 'cisId': this.data.contributorCisUserId };
        this.fire('gallery-open-contact-card', contactData);
      },
      _openInfoDialog: function(e) {
        e.stopPropagation();
        e.preventDefault();
        if (!this.showRestrictedInfo || this.owner !== this.data.contributorCisUserId) return;
        var data = {};
        data.translations = {};
        data.translations.restrictedInfo = this.i18n('restricted_info');
        data.translations.checkEmail = this.i18n('check_email');
        data.target = this.$$('.info-icon');
        this.fire('open-restricted-info', data);
      },
      _isOwner: function(experiment, user, contributor, restricted) {
        if (!restricted || !experiment) return false;
        return (user === contributor);
      },
      _getContributorName: function(data) {
        if (data && data.value) {
          return (data.value.ftUserInfo) ? data.value.ftUserInfo.contactName : data.value.contributorContactName;
        }
      },
      _metrics: function(e) {
        if (e && e.target && e.target.hasAttribute('metrics-id')) {
          this.fireMetrics(e);
        }
      },

      /**
       * Return the class for the not-tagged-icon.  English displays a different icon than non-english
       * languages.
       *
       * @return {string}
       */
      _getNotTaggedIconClass: function() {
        return FS.simpleLocale() === 'en' ? 'not-tagged-icon-english' : 'not-tagged-icon-non-english';
      },
      _hasAttachedAudio: function(associatedArtifacts) {
        // Only images can have attached audios
        if (this.data.category !== 'IMAGE') return false;
        let hasAttachedAudio = false;
        if (associatedArtifacts && associatedArtifacts.artifact.length) {
          associatedArtifacts.artifact.every(artifact => {
            if (artifact.category === 'AUDIO') {
              hasAttachedAudio = true;
              // end the looping
              return false;
            } else {
              // keep looping
              return true;
            }
          });
        }
        return hasAttachedAudio;
      },
      _handleBlur: function(e) {
        const audioItem = this.$$('#audio');
        if (audioItem._audioObj.playing) {
          audioItem.toggleAudio();
        }
      },
      isPublic: function (visibility, privateMemoriesEx) {
        return privateMemoriesEx ? visibility === "PUBLIC" : true;
      }
    });
  </script>
</dom-module>
